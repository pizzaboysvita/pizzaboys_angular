<div class="row">
    <div class="col-xl-9">
       <app-media (itemAdded)="addToCart($event)"></app-media>
    </div>
    <div class="col-xl-3">
<!-- <div class="card">
    <div class="row" body>
        <div class="col-12">
            <ul class="nav setting-main-box driver-main-box sticky theme-scrollbar" ngbNav #nav="ngbNav"
                [(activeId)]="active">
                <li [ngbNavItem]="1">
                    <button ngbNavLink class="nav-link"><i class="ri-settings-line"></i>Order
                        Status</button>
                    <ng-template ngbNavContent>
                        <app-order-status></app-order-status>
                    </ng-template>
                </li>
                <li [ngbNavItem]="2">
                    <button ngbNavLink class="nav-link"><i class="ri-information-2-line"></i>Order
                        Details</button>
                    <ng-template ngbNavContent>
                        <app-details></app-details>
                    </ng-template>
                </li>
            </ul>
        </div>
        <div class="col-12">
            <div class="restaurant-tab" [ngbNavOutlet]="nav"></div>
        </div>
    </div>
</div> -->
       
<div class="card p-3 shadow-sm d-flex flex-column" style="border-radius: 8px; height: 90vh; overflow: hidden !important;">
  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <div>
      <h6 class="fw-bold  mb-1">Order Details</h6>
      <!-- <div class="text-muted" style="font-size: 12px;">#ORD-3291</div> -->
    </div>
    <!-- <div class="maerail-btn-icons">
    <span class="material-symbols-outlined"  style="font-size: 18px;">more_vert</span>
</div> -->
  </div>

  <!-- Dine In / Take Away / Delivery Buttons -->
  <!-- <div class="btn-group custom-btn-group mb-3 w-100" style="height: 50px;">
    <button type="button" class="btn w-33" [class.active]="selected === 'dinein'" (click)="selected = 'dinein'">Dine In</button>
    <button type="button" class="btn w-33" [class.active]="selected === 'takeaway'" (click)="selected = 'takeaway'">Take away</button>
    <button type="button" class="btn w-33" [class.active]="selected === 'delivery'" (click)="selected = 'delivery'">Delivery</button>
  </div> -->
  <!-- Dine In / Take Away / Delivery Buttons -->
<!-- <div class="btn-group w-100 mb-3 order-type-toggle">
  <button type="button" 
          class="toggle-btn" 
          [class.active]="selected === 'dinein'" 
          (click)="selected = 'dinein'">
    Dine in
  </button>
  <button type="button" 
          class="toggle-btn" 
          [class.active]="selected === 'takeaway'" 
          (click)="selected = 'takeaway'">
    Take away
  </button>
  <button type="button" 
          class="toggle-btn" 
          [class.active]="selected === 'delivery'" 
          (click)="selected = 'delivery'">
    Delivery
  </button>
</div> -->


  <!-- Customer Info -->
  <!-- <div class="d-flex justify-content-between align-items-center mb-2">
    <div>
      <div style="font-size: 13px; color: #666;">Customer Name</div>
      <div class="fw-semibold">Jhonatan Andrew</div>
    </div>
    <div>
      <div style="font-size: 13px; color: #666;">Table Number</div>
      <div class="fw-semibold">17</div>
    </div>
  </div> -->

  <!-- Order Items List -->
  <div class="flex-grow-1 overflow-auto mb-3" style="height: 340px; overflow-y: auto;">
  <div class="checkout-detail p-0">
  <ul>
    @for (item of cartItems; track item) {
      <li class="mb-3">
        <div class="horizontal-product-box">
          <div class="row g-0 align-items-start">
            <!-- Left: Image + Quantity -->
            <div class="col-auto text-center">
              <img [src]="item.dish_image" alt="{{ item.dish_name }}" width="70" height="60" class="rounded" style="object-fit: cover;">
              <div class="like-box d-flex justify-content-center align-items-center gap-1 mt-2">
                <i class="ri-subtract-line" style="cursor: pointer;" (click)="decreaseModalQuantity(item)"></i>
                <span>{{item.dish_quantity}}</span>
                <i class="ri-add-line" style="cursor: pointer;"  (click)="increaseModalQuantity(item)"></i>
                <i class="ri-delete-bin-line text-danger" style="cursor: pointer;" (click)="removeItem(item)"></i>
              </div>
            </div>
            <!-- Right: Dish Info -->
            <div class="col"style="margin-left: 10px;">
              <!-- Dish Name and Price -->
              <div class="d-flex justify-content-between">
                <h6 class="mb-0" style="text-align:left;">{{ item.dish_name }}</h6>
                <h6 class="product-price mb-0" style="text-align:right;">${{ item.dish_price }}</h6>
              </div>
              <!-- Ingredients and their prices -->
              <div *ngFor="let ingredient of item.selectedOptions">
                <div class="d-flex align-items-center" style="justify-content: space-between; min-height: 24px;">
                  <span class="text-dark" style="font-size: 15px;">{{ ingredient.name }}</span>
                  <span class="fw-bold" style="font-size: 15px;">
                    ${{ ingredient.price  | number:'1.2-2' }}
                    <!-- <span *ngIf="ingredient.quantity && ingredient.quantity > 1" class="text-muted small ms-1">({{ ingredient.price }} x {{ ingredient.quantity }})</span> -->
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
    }
  </ul>
</div>


  </div>

  <!-- Summary -->
  <div class="pt-3">
    <div class="d-flex justify-content-between mb-1">
      <span class="text-muted">Subtotal</span>
      <span class="fw-semibold">${{ subtotal.toFixed(2)  }}</span>
    </div>
    <div class="d-flex justify-content-between mb-2">
      <span class="text-muted">Tax 10%</span>
      <span class="fw-semibold">${{ tax }}</span>
    </div>
    <div class="d-flex justify-content-between fw-bold mb-3">
      <span>Total</span>
      <span>${{ total.toFixed(2) }}</span>
    </div>

    <button class="btn btn-primary w-100 fw-bold" style="border-radius: 10px; padding: 12px;">
      Pay ${{ total.toFixed(2) }}
    </button>
  </div>
</div>

  


<!-- <app-card [body]="true">
            <div class="row" body>
                <div class="col-12">
                    <ul class="nav setting-main-box driver-main-box sticky theme-scrollbar" ngbNav #nav="ngbNav"
                        [(activeId)]="active">
                        <li [ngbNavItem]="1">
                            <button ngbNavLink class="nav-link"><i class="ri-settings-line"></i>Order
                                Status</button>
                            <ng-template ngbNavContent>
                                <app-order-status></app-order-status>
                            </ng-template>
                        </li>
                        <li [ngbNavItem]="2">
                            <button ngbNavLink class="nav-link"><i class="ri-information-2-line"></i>Order
                                Details</button>
                            <ng-template ngbNavContent>
                                <app-details></app-details>
                            </ng-template>
                        </li>
                    </ul>
                </div>
                <div class="col-12">
                    <div class="restaurant-tab" [ngbNavOutlet]="nav"></div>
                </div>
            </div>
        </app-card> -->
    </div>
</div>